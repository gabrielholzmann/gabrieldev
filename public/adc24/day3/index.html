<!DOCTYPE html>
<html lang="en-us" dir="ltr">
<head>
  <meta charset="utf-8">

<meta name="viewport" content="width=device-width, initial-scale=1">

<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bulma@1.0.4/css/bulma.min.css"
>

<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üê±</text></svg>">

<title> Advent of Code 24 Day 3</title>


      <link rel="stylesheet" href="/css/main.min.ab45e008b803c671aa6df8414d08dafb8adee24a6c3aa2f436c0565e64aa4005.css" integrity="sha256-q0XgCLgDxnGqbfhBTQja&#43;4re4kpsOqL0NsBWXmSqQAU=" crossorigin="anonymous">


        <script src="/js/main.23cd0c7d837263b9eaeb96ee2d9ccfa2969daa3fa00fa1c1fe8701a9b87251a1.js" integrity="sha256-I80MfYNyY7nq65buLZzPopadqj&#43;gD6HB/ocBqbhyUaE=" crossorigin="anonymous"></script>


</head>
<body>
  <header>
    <div class="fixed-grid has-4-cols has-text-centered has-1-cols-mobile">
    <div class = "grid">
        <div class="cell is-col-span-2 is-col-start-2 is-col-start-1-mobile">
            <h1 class="is-size-3">Gabriel Holzmann</h1>
            <h2 class="is-size-4">Software Engineer</h2>
        </div>

        <div class="cell is-col-span-2 is-col-start-2 is-col-start-1-mobile is-flex is-justify-content-center is-align-items-center">
            
<nav class="navbar mb-4" role="navigation" aria-label="main navigation">
    <a role="button" class="navbar-burger" aria-label="menu" aria-expanded="false" data-target="navMenu">
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
    </a>

  
  <div id="navMenu" class="navbar-menu">
      
        
        
        <a class="navbar-item " href="/">
          Home
        </a>
      
        
        
        <a class="navbar-item " href="/posts/">
          Posts
        </a>
      
        
        
        <a class="navbar-item " href="/contact/">
          Contact
        </a>
      

      <a class="navbar-item" target="_blank" href="https://github.com/gabrielholzmann">
        Github
      </a>
      <a class="navbar-item" target="_blank" href="https://www.linkedin.com/in/gabrielholzmann">
        Linkedin
      </a>
  </div>
</nav>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const navbarBurgers = document.querySelectorAll('.navbar-burger');
  
  navbarBurgers.forEach(el => {
    el.addEventListener('click', () => {
      const target = document.getElementById(el.dataset.target);
      el.classList.toggle('is-active');
      target.classList.toggle('is-active');
    });
  });
});
</script>


        </div>

    </div>
</div>



  </header>
  <main>
    
    <div class="columns is-multiline">
        <div class="column is-half mt-4">
            <h1 class="has-text-centered is-size-1">Advent of Code 24 Day 3</h1>
            <h2 class="is-size-6">Sep 17, 2025</h2>
        </div>

        <div class="column is-half">
            Tags:
            
            <a class="mr-1 is-underlined" href="/tags/adventofcode24/">
                #AdventOfCode24
            </a>
            
            <a class="mr-1 is-underlined" href="/tags/programming/">
                #Programming
            </a>
            
            <a class="mr-1 is-underlined" href="/tags/c&#43;&#43;/">
                #C&#43;&#43;
            </a>
            
        </div>

        <div class="column is-half">
            <div class="content">
                <p><a href="https://github.com/gabrielholzmann/AdventOfCode24">Link to the github repository</a></p>
<p>Here are some of the characteristics you will find in my solutions:</p>
<ul>
<li>All of my puzzles will be solved in C/C++</li>
<li>I will not provide my personal input</li>
<li>If you have any suggestions, comments or optimizations to my code please <a href="/contact">contact me</a></li>
</ul>
<p>First of all get acquainted to the puzzle in this <a href="https://adventofcode.com/2024/day/3">link</a></p>
<h1 id="part-1">Part 1</h1>
<p>If you read the puzzle you know it&rsquo;s about findings patterns a perfect task for regex</p>
<h2 id="main">Main</h2>
<p>Our main consists of:</p>
<ol>
<li>Opening a file</li>
<li>Reading the instructions</li>
<li>Evaluating instructions with regex</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>() {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>fstream inputFile <span style="color:#f92672">=</span> openFile(<span style="color:#e6db74">&#34;../input.txt&#34;</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    memory m <span style="color:#f92672">=</span> readInstructions(inputFile);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>cout <span style="color:#f92672">&lt;&lt;</span> evaluateMultiplyInstructions(m);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="opening-a-file">Opening a file</h2>
<p>Just the standard file opening and checking for errors</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span>std<span style="color:#f92672">::</span>fstream openFile(<span style="color:#66d9ef">const</span> std<span style="color:#f92672">::</span>string <span style="color:#f92672">&amp;</span>fileName) {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>fstream fp;
</span></span><span style="display:flex;"><span>    fp.open(fileName, std<span style="color:#f92672">::</span>ios<span style="color:#f92672">::</span>in);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (<span style="color:#f92672">!</span>fp.is_open()) {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">throw</span> std<span style="color:#f92672">::</span>runtime_error(<span style="color:#e6db74">&#34;Could not open file&#34;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> fp;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="reading-the-instructions">Reading the Instructions</h2>
<p>We create a struct with a vector to hold our instructions, and then we
loop through every line and push those instructions to the vector</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">memory</span> {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> instructions{};
</span></span><span style="display:flex;"><span>} memory;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>memory <span style="color:#a6e22e">readInstructions</span>(std<span style="color:#f92672">::</span>fstream <span style="color:#f92672">&amp;</span>fp) {
</span></span><span style="display:flex;"><span>    memory m;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>string line;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (std<span style="color:#f92672">::</span>getline(fp, line)) {
</span></span><span style="display:flex;"><span>        m.instructions.push_back(line);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> m;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="building-our-regex">Building our regex</h2>
<p>My favorite way to build a regex expression is going to <a href="https://regexr.com">regexr.com</a>
and playing a little bit, like a sandbox.</p>
<p>We can place the example string from the problem and try to come up with a regex expression,
the website makes this a lot easier by including a cheat sheet and analyzing tools</p>
<p>My expression:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">auto</span> regexExpression <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>regex (R<span style="color:#e6db74">&#34;(mul\((\d+),(\d+)\))&#34;</span>);
</span></span></code></pre></div><p>Here you can see a full on explanation of my expression generated by the website.
Those 2 capturing groups are very important so we can get the operands easily.</p>
<p><img src="day3Regex.png" alt="regex syntax tree"></p>
<h2 id="matching-our-expression">Matching our expression</h2>
<p><strong>evaluateMultiplyInstructions()</strong> just loops through every line and sends it to <strong>matchRegexLine()</strong></p>
<p><strong>matchRegexLine()</strong> first creates and std::smatch where our matched string resides while std::regex_search matches something:</p>
<ol>
<li>transform both capture groups 1 and 2 to integer multiply then and add to the total</li>
<li>go to the next match</li>
</ol>
<p>Important to notice capture group 0(match.str(0)) is the entire match</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">matchRegexLine</span>(std<span style="color:#f92672">::</span>string line) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>smatch match;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (std<span style="color:#f92672">::</span>regex_search(line, match, regexExpression)) {
</span></span><span style="display:flex;"><span>        total <span style="color:#f92672">+=</span> std<span style="color:#f92672">::</span>stoi(match.str(<span style="color:#ae81ff">1</span>)) <span style="color:#f92672">*</span> std<span style="color:#f92672">::</span>stoi(match.str(<span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        line <span style="color:#f92672">=</span> match.suffix().str();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total;
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">evaluateMultiplyInstructions</span>(memory <span style="color:#f92672">&amp;</span>m) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">auto</span> <span style="color:#f92672">&amp;</span>line : m.instructions) {
</span></span><span style="display:flex;"><span>        total <span style="color:#f92672">+=</span> matchRegexLine(line);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><h2 id="part-2">Part 2</h2>
<p>*Everything else not mentioned here is the same as part 1</p>
<h2 id="memory-structure">Memory Structure</h2>
<p>We added a isEnabled variable that defaults to true</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">typedef</span> <span style="color:#66d9ef">struct</span> <span style="color:#a6e22e">memory</span> {
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span>std<span style="color:#f92672">::</span>string<span style="color:#f92672">&gt;</span> instructions{};
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">bool</span> isEnabled{true};
</span></span><span style="display:flex;"><span>} memory;
</span></span></code></pre></div><h2 id="regex-expression">Regex Expression</h2>
<p>Now we change our regex expression to match the do() and don&rsquo;t()</p>
<p>The only difference here is that we added two or conditions</p>
<ul>
<li>do() = Matches do() string</li>
<li>| = OR</li>
<li>don&rsquo;t() = Matches don&rsquo;t() string</li>
<li>| = OR</li>
<li>previous match = Same as part 1</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#66d9ef">auto</span> regexExpression <span style="color:#f92672">=</span> std<span style="color:#f92672">::</span>regex (R<span style="color:#e6db74">&#34;(do\(\)|don&#39;t\(\)|mul\((\d+),(\d+)\))&#34;</span>);
</span></span></code></pre></div><h2 id="matching">Matching</h2>
<p>First we check the full match to see if it&rsquo;s a do() or a don&rsquo;t() and if it is we enable or disable the memory</p>
<p>If the memory is enabled and is not a do() or don&rsquo;t() we multiply and add it to the total using the capture groups</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-cpp" data-lang="cpp"><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">matchRegexLine</span>(memory <span style="color:#f92672">&amp;</span>m, std<span style="color:#f92672">::</span>string line) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> total <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    std<span style="color:#f92672">::</span>smatch match;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (std<span style="color:#f92672">::</span>regex_search(line, match, regexExpression)) {
</span></span><span style="display:flex;"><span>        std<span style="color:#f92672">::</span>string fullMatch <span style="color:#f92672">=</span> match.str(<span style="color:#ae81ff">0</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (fullMatch <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;do()&#34;</span>) {
</span></span><span style="display:flex;"><span>            m.isEnabled <span style="color:#f92672">=</span> true;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (fullMatch <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;don&#39;t()&#34;</span>) {
</span></span><span style="display:flex;"><span>            m.isEnabled <span style="color:#f92672">=</span> false;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (m.isEnabled) {
</span></span><span style="display:flex;"><span>            total <span style="color:#f92672">+=</span> std<span style="color:#f92672">::</span>stoi(match.str(<span style="color:#ae81ff">1</span>)) <span style="color:#f92672">*</span> std<span style="color:#f92672">::</span>stoi(match.str(<span style="color:#ae81ff">2</span>));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        line <span style="color:#f92672">=</span> match.suffix().str();
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> total;
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
            </div>
        </div>

    </div>

  </main>
  <footer>
    <div class="fixed-grid has-4-cols has-1-cols-mobile">
    <div class="grid">
        <div class="cell is-col-span-2 is-col-start-2 is-col-start-1-mobile">
            <footer class = "footer">
                <hr style="background-color: #FAF5F6; width: 100%">
                <h1 class="has-text-centered ">¬© 2025 Gabriel Holzmann.</h1>
            </footer>
        </div>
    </div>
</div>

  </footer>
</body>
</html>
